---
import { getPageContent } from '~/lib/sanity';
import Layout from '~/layouts/PageLayout.astro';

import HeroText from '~/components/widgets/HeroText.astro';
import ContactUs from '~/components/widgets/Contact.astro';
import Features2 from '~/components/widgets/Features2.astro';

// Get content from Sanity
const pageData = await getPageContent('contact', 'de');
const { metadata, heroText, contactUs, contactFeatures2 } = pageData || {};
---

<Layout metadata={metadata}>
  <!-- HeroText Widget ******************* -->

  {heroText && (
    <HeroText 
      tagline={heroText.tagline} 
      title={heroText.title} 
    />
  )}

  {contactUs && (
    <ContactUs
      id={contactUs.id}
      title={contactUs.title}
      subtitle={contactUs.subtitle}
      inputs={contactUs.inputs}
      textarea={contactUs.textarea}
      disclaimer={contactUs.disclaimer}
      description={contactUs.description}
    />
  )}

  <!-- Features2 Widget ************** -->

  {contactFeatures2 && (
    <Features2
      title={contactFeatures2.title}
      items={contactFeatures2.items}
      columns={contactFeatures2.columns}
    />
  )}
</Layout>
